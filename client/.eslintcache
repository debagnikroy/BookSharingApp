[{"/home/anjan/Projects/booksharingapp23/client/src/index.js":"1","/home/anjan/Projects/booksharingapp23/client/src/Routes.js":"2","/home/anjan/Projects/booksharingapp23/client/src/user/Signin.js":"3","/home/anjan/Projects/booksharingapp23/client/src/user/Signup.js":"4","/home/anjan/Projects/booksharingapp23/client/src/user/UserDashboard.js":"5","/home/anjan/Projects/booksharingapp23/client/src/user/AddBook.js":"6","/home/anjan/Projects/booksharingapp23/client/src/auth/PrivateRoute.js":"7","/home/anjan/Projects/booksharingapp23/client/src/core/Market.js":"8","/home/anjan/Projects/booksharingapp23/client/src/core/MyCard.js":"9","/home/anjan/Projects/booksharingapp23/client/src/core/Layout.js":"10","/home/anjan/Projects/booksharingapp23/client/src/user/ApiUser.js":"11","/home/anjan/Projects/booksharingapp23/client/src/core/Menu.js":"12","/home/anjan/Projects/booksharingapp23/client/src/auth/index.js":"13","/home/anjan/Projects/booksharingapp23/client/src/core/ApiCore.js":"14","/home/anjan/Projects/booksharingapp23/client/src/user/SearchBook.js":"15"},{"size":208,"mtime":1621875879486,"results":"16","hashOfConfig":"17"},{"size":1167,"mtime":1621877616697,"results":"18","hashOfConfig":"17"},{"size":3647,"mtime":1621875879486,"results":"19","hashOfConfig":"17"},{"size":3522,"mtime":1621875879486,"results":"20","hashOfConfig":"17"},{"size":6716,"mtime":1621875879486,"results":"21","hashOfConfig":"17"},{"size":1808,"mtime":1621877615565,"results":"22","hashOfConfig":"17"},{"size":546,"mtime":1621875879486,"results":"23","hashOfConfig":"17"},{"size":1729,"mtime":1621875879486,"results":"24","hashOfConfig":"17"},{"size":10901,"mtime":1621875879486,"results":"25","hashOfConfig":"17"},{"size":407,"mtime":1621875879486,"results":"26","hashOfConfig":"17"},{"size":7588,"mtime":1622226673414,"results":"27","hashOfConfig":"17"},{"size":3133,"mtime":1622227714950,"results":"28","hashOfConfig":"17"},{"size":3246,"mtime":1621875879486,"results":"29","hashOfConfig":"17"},{"size":1414,"mtime":1621875879486,"results":"30","hashOfConfig":"17"},{"size":2670,"mtime":1622226836780,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1dtzsbq",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"34"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"34"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"34"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":18,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"34"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/anjan/Projects/booksharingapp23/client/src/index.js",[],["71","72"],"/home/anjan/Projects/booksharingapp23/client/src/Routes.js",[],"/home/anjan/Projects/booksharingapp23/client/src/user/Signin.js",["73","74"],"import React, { useEffect, useState } from 'react';\nimport {Link, Redirect} from 'react-router-dom';\nimport {signin,authenticate,isAuthenticated} from '../auth';\nimport Layout from \"../core/Layout\";\n\n\nconst Signin = () =>{\n    const [values,setValues]=useState({\n        name:'',\n        email:'',\n        password:'',\n        error:'',\n        loading:false,\n        redirectToReferrer:false \n    });\n\n    const {email,password,error,loading,redirectToReferrer}=values;\n    const {user}=isAuthenticated();\n\n    const clickSubmit=(event)=>{\n        event.preventDefault();\n        setValues({...values, loading:true, error:false});\n        signin({ email, password })\n        .then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error, loading: false });\n            } else {\n                authenticate(data,()=>{\n                    setValues({\n                        ...values,                        \n                        redirectToReferrer: true\n                    });\n                })\n            }\n        });          \n    }\n\n    \n    const handleChange=name=>event=>{\n        setValues({...values,error:false,[name]:event.target.value});\n    };\n    const signUpForm=()=>(\n        <div className=\"row mt-5\">\n  <div className=\"col-md-6 m-auto\">\n    <div className=\"card card-body\">\n      <h1 className=\"text-center mb-3\">Login</h1>\n      <form>\n        <div className=\"form-group\">\n          <label for=\"email\">Email</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            className=\"form-control\"\n            placeholder=\"Enter Email\"\n\t\t\tonChange={handleChange('email')}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label for=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            className=\"form-control\"\n            placeholder=\"Enter Password\"\n\t\t\tonChange={handleChange('password')}\n          />\n        </div>\n        <button onClick={clickSubmit} className=\"btn btn-primary btn-block\">Login</button>\n      </form>\n      <p className=\"lead mt-4\">\n        No Account? <Link to=\"/signup\">Signup here</Link>\n      </p>\n    </div>\n  </div>\n</div>\n    )\n\n    const showError=()=>{\n        return(<div className='alert alert-danger'>{error}</div>)\n    }\n\n    const showLoading=()=>{\n        return(<div className='alert alert-info'>Loading</div>);\n    }\n\n    const redirectUser=()=>{\n        if(redirectToReferrer){\n            /*console.log(typeof(user.role));\n            if(user.role==1){\n                return (<Redirect to=\"/admin/dashboard\" />)\n            }\n            else*/\n            return (<Redirect to=\"/user/dashboard\" />);\n        }\n        if(isAuthenticated()){\n            return (<Redirect to=\"/user/dashboard\" />);\n        }\n    }\n\n    /*const showSuccess=()=>{\n        return (<div className='alert alert-info' style={{ display:success?\"\":\"none\"}}>\n            Sign up accepted. Sign in.\n        </div>)\n    }\n\n    const showError=()=>{\n        return (<div className='alert alert-danger' style={{ display:error?\"\":\"none\"}}>\n            {error}\n        </div>)\n    }*/\n\n    const show=()=>{\n        if(loading===true)\n            return showLoading();\n        if(error)\n            return showError();        \n    }\n    \n    return(\n        <Layout title=\"Signup\" description=\"Signup here\" className=\"container col-md-8\">\n            {show()}\n            {signUpForm()}\n            {/* {JSON.stringify(values)} */}\n            {redirectUser()}\n        </Layout>\n    )\n};\n\n\nexport default Signin;\n","/home/anjan/Projects/booksharingapp23/client/src/user/Signup.js",["75"],"import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport Layout from '../core/Layout';\nimport { signup } from '../auth';\nimport {authenticate,isAuthenticated} from '../auth';\n\n\nconst Signup = () => {\n    const [values, setValues] = useState({\n        name: '',\n        email: '',\n        password: '',\n        error: '',\n        success: false\n    });\n\n    const { name, email, password, success, error } = values;\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: false });\n        signup({ name, email, password }).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error, success: false });\n            } else {\n                setValues({\n                    ...values,\n                    name: '',\n                    email: '',\n                    password: '',\n                    error: '',\n                    success: true\n                });\n            }\n        });\n    };\n\n    const signUpForm = () => (\n        <div className=\"row mt-5\">\n  <div className=\"col-md-6 m-auto\">\n  \n  \n  \n    <div className=\"card card-body\">\n      <h1 className=\"text-center mb-3\">\n        Register\n      </h1>\n     \n      <form>\n\t  \n        <div className=\"form-group\">\t\t\n          <label for=\"name\">Name</label>\n          <input\n            type=\"name\"\n            id=\"name\"\n            name=\"name\"\n            className=\"form-control\"\n            placeholder=\"Enter Name\"\n            value={name}\n            required\n\t\t\tonChange={handleChange('name')}\n          />\t\t  \n        </div>\n\t\t\n\t\t\n        <div className=\"form-group\">\n          <label for=\"email\">Email</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            className=\"form-control\"\n            placeholder=\"Enter Email\"\n            value={email}\n            required\n\t\t\tonChange={handleChange('email')}\n          />\n        </div>\n\t\t\n\t\t\n        <div className=\"form-group\">\n          <label for=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            className=\"form-control\"\n            placeholder=\"Create Password\"\n            value={password}\n            required\n\t\t\tonChange={handleChange('password')}\n          />\n        </div>\n        \n        <button onClick={clickSubmit} className=\"btn btn-primary btn-block\">\n          Register\n        </button>\n      </form>\n      <p className=\"lead mt-4\">Have An Account? <Link to=\"/signin\">Login</Link></p>\n    </div>\n  </div>\n</div>\n    );\n\n    const showError = () => (\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>\n            New account is created. Please <Link to=\"/signin\">Signin</Link>\n        </div>\n    );\n\n    return (\n        <Layout\n            title=\"Signup\"\n            description=\"Signup to Node React E-commerce App\"\n            className=\"container col-md-8 offset-md-2\"\n        >\n            {isAuthenticated()?<Redirect to=\"/user/dashboard\" /> :null}\n            {showSuccess()}\n            {showError()}\n            {signUpForm()}\n        </Layout>\n    );\n};\n\nexport default Signup;\n","/home/anjan/Projects/booksharingapp23/client/src/user/UserDashboard.js",["76","77","78","79","80","81"],"import React, { useEffect, useState } from 'react';\nimport Layout from '../core/Layout';\nimport { isAuthenticated } from '../auth'\nimport { Link } from 'react-router-dom';\nimport { getPurchaseHistory, getCurrentBooks, getListedBooks,getBorrowBookRequests } from './ApiUser';\nimport Menu from '../core/Menu';\nimport MyCard from '../core/MyCard';\n\nconst Dashboard = () => {\n\n    const [currentBookList, setCurrentBooks] = useState([]);\n    const [listedBooks, setListedBooks] = useState([]);\n    const [pendingBorrowRequest, setPendingBorrowRequest] = useState([]);\n    const { user: { _id, name, email, role } } = isAuthenticated();\n    const [run, setRun] = useState(false);\n    const token = isAuthenticated().token;\n\n    const init = (userId, token) => {\n        setCurrentBooks([]);\n        setListedBooks([]);\n        setPendingBorrowRequest([]);\n        getCurrentBooks(userId, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            }\n            else {\n                console.log(\"latest\", data[0].currentBooks);\n                setCurrentBooks(data[0].currentBooks);\n            }\n        })\n            .catch(err => {\n                console.log(err);\n            });\n\n\n        getBorrowBookRequests(userId, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            }\n            else {\n                console.log(\"borrow Req\", data[0].lendRequests);\n                setPendingBorrowRequest(data[0].lendRequests);\n            }\n        })\n            .catch(err => {\n                console.log(err);\n            });\n\n\n        getListedBooks(userId, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            }\n            else {\n                console.log(\"latest listedBooks\", data[0].listedBooks);\n                setListedBooks(data[0].listedBooks);\n            }\n        })\n            .catch(err => {\n                console.log(err);\n            })\n\n    }\n\n    useEffect(() => {\n        init(_id, token);\n        console.log(\"curr\", currentBookList);\n    }, [run]);\n\n    /*const [history,setHistory]=useState([]);\n    const {user: {_id,name,email,role}}=isAuthenticated(); \n    const token=isAuthenticated().token;\n    const init=(userId,token)=>{\n        getPurchaseHistory(userId,token).then(data=>{\n            if(data.error){\n                console.log(data.error);\n            }\n            else{\n                setHistory(data);\n            }\n        })\n    }\n\n    useEffect(()=>{\n        init(_id,token);\n    },[])\n\n    const profileUpdate=()=>{\n        return(\n            <div className=\"card\">\n                <h3 className=\"card-header\">User Links</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/cart\">My Cart</Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to={`/profile/${_id}`}>Update Profile</Link>\n                    </li>\n                </ul>\n            </div>\n        )\n    }\n\n    const userInformation=()=>{\n        return(\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">User Information</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">{name}</li>\n                    <li className=\"list-group-item\">{email}</li>\n                    <li className=\"list-group-item\">{role===1 ? 'admin' : 'registered user'}</li>\n                </ul>\n            </div>\n        )\n    }\n\n  \n\n\n    const purchaseHistory = history => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">Purchase history</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        {history.map((h, i) => {\n                            return (\n                                <div>\n                                    <hr />\n                                    {h.products.map((p, i) => {\n                                        return (\n                                            <div key={i}>\n                                                <h6>Product name: {p.name}</h6>\n                                                <h6>Product price: ${p.price}</h6>\n                                                <h6>\n                                                    Purchased date:{\" \"}\n                                                    {moment(p.createdAt).fromNow()}\n                                                </h6>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            );\n                        })}\n                    </li>\n                </ul>\n            </div>\n        );\n    };*/\n\n    const userId = isAuthenticated() && isAuthenticated().user._id;\n\n    return (\n        <React.Fragment>\n            <Menu />\n            <Layout title=\"DashBoard\" description={`Welcome ${name}`} className=\"container\">\n\n                <center><h1 className=\"mt-5 mb-2\">New Requests</h1></center>\n                <div className=\"row\">\n\n                    {pendingBorrowRequest.map((product, i) => (\n                        <div key={i} className=\"col-12 my-3\">\n                            <MyCard product={product.isbn} viewProduct={true} acceptButton={true} declineButton={true} owner={product.userId} run={run} runSetter={setRun} />\n                        </div>\n                    ))}\n\n                </div>\n\n                <center><h1 className=\"mt-5 mb-2\">My Books</h1></center>\n                <div className=\"row\">\n\n                    {currentBookList.map((product, i) => (\n                        <div key={i} className=\"col-12 my-3\">\n                            <MyCard product={product} viewProduct={true} unlistButton={false} showDeleteButton={true} listButton={true} run={run} runSetter={setRun} />\n                        </div>\n                    ))}\n\n                </div>\n                <center><h1 className=\"mt-5 mb-2\">Listed Books</h1></center>\n\n                <div className=\"row\">\n\n                    {listedBooks.map((product, i) => (\n                        <div key={i} className=\"col-12 mb-3\">\n                            <MyCard product={product} viewProduct={true} unlistButton={true} run={run} runSetter={setRun} />\n                        </div>\n                    ))}\n\n                </div>\n            </Layout>\n        </React.Fragment>\n\n    )\n}\n\nexport default Dashboard;\n\n","/home/anjan/Projects/booksharingapp23/client/src/user/AddBook.js",["82","83","84","85","86","87","88","89"],"import React, { useEffect, useState } from 'react';\nimport { MDBBtn, MDBCard, MDBCardBody, MDBCardImage, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport { Redirect } from 'react-router-dom';\nimport {isAuthenticated} from '../auth'\nimport { addBook } from './ApiUser';\nimport Menu from '../core/Menu'\nimport Layout from '../core/Layout';\n\n\nconst AddBook=()=>{\n\n    const [isbn,setIsbn]=useState(\"\"); \n    const [redirect,setRedirect]=useState(false);   \n    const {user,token}=isAuthenticated();\n\n    const isbnHandler=(event)=>{\n        setIsbn(event.target.value);\n    }\n\n    const addButton=(e)=>{\n        e.preventDefault();\n        addBook(user._id,isbn,token).then(data=>{\n            if(data.error){\n                console.log(data.error);\n            }\n            else{\n                console.log(data);\n                setRedirect(true);                \n            }\n        })\n    }\n\n    const shouldRedirect=redirect=>{\n        if(redirect){\n            return <Redirect to=\"/\" />\n        }\n    }\n    return(\n        <React.Fragment>\n            <Menu />\n            <Layout title=\"Add new book\" description={`${user.name}, please enter the isbn number`} className=\"container\">    \n            <form >\n        {shouldRedirect(redirect)}\n          <div class=\"form-group\"> \n            <label for=\"isbn\">ISBN</label>\n            <input\n              type=\"text\"\n              id=\"isbn\"\n              name=\"isbn\"\n              className=\"form-control\"\n              placeholder=\"Enter ISBN\"\n              value={isbn}\n              onChange={isbnHandler}\n            />\n          </div>\n          <button onClick={addButton} className=\"btn btn-primary btn-block\">Add Book</button>\n        </form>\n            </Layout>\n        </React.Fragment>\n    \n    );\n}\n\nexport default AddBook;\n","/home/anjan/Projects/booksharingapp23/client/src/auth/PrivateRoute.js",["90"],"import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n<Route\n    {...rest}\n    render={props =>\n        isAuthenticated() ? (\n            <Component {...props} />\n        ) : (\n            <Redirect\n                to={{\n                    pathname: \"/signin\",\n                    state: { from: props.location }\n                }}\n            />\n        )\n    }\n/>\n);\n\nexport default PrivateRoute;\n","/home/anjan/Projects/booksharingapp23/client/src/core/Market.js",["91","92","93","94","95","96"],"import React, { useEffect,useState } from 'react';\nimport Layout from '../core/Layout';\nimport {isAuthenticated} from '../auth'\nimport { Link } from 'react-router-dom';\nimport {getTransferMarketListedBooks} from './ApiCore'\nimport MyCard from './MyCard';\nimport Menu from './Menu'\n\nconst Market=()=>{\n    \n    const [listedBooks,setListedBooks]=useState([]);\n    const {user: {_id,name,email,role}}=isAuthenticated();  \n    const [run,setRun]=useState(false);\n    const token=isAuthenticated().token;   \n\n    const init=(userId,token)=>{        \n        setListedBooks([]);\n        getTransferMarketListedBooks(userId,token).then(data=>{\n            if(data.error){\n                console.log(data.error);\n            }\n            else{\n                console.log(\"market\",data);\n                setListedBooks(data);\n            }\n        })\n        .catch(err=>{\n            console.log(err);\n        })\n    }        \n    useEffect(()=>{\n        init(_id,token);        \n    },[run]);\n\n    const userId=isAuthenticated() && isAuthenticated().user._id;\n\n    return (\n        <React.Fragment>\n            <Menu />\n            <Layout title=\"Transfer Market\" description=\"Pick ypur favourite book\" className=\"container\">    \n\n            <h2 className=\"mb-4\">All Books</h2>\n            <div className=\"row\">\n\n            {listedBooks.map((product,i)=>(\n            <div key={i} className=\"col-12 mb-3\">\n                <MyCard  product={product.isbn} viewProduct={true} unlistButton={false} owner={product.userId} showBorrowButton={true} run={run} runSetter={setRun}/>\n            </div>\n        ))}\n    \n        </div>                            \n</Layout>\n        </React.Fragment>        \n    )  \n}\n\nexport default Market;\n\n","/home/anjan/Projects/booksharingapp23/client/src/core/MyCard.js",["97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114"],"import React, { useEffect, useState } from 'react';\nimport { MDBBtn, MDBCard, MDBCardBody, MDBCardImage, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport { getBookDetails, getDetails } from './ApiCore'\nimport { Redirect } from 'react-router-dom';\nimport {isAuthenticated} from '../auth'\nimport { listBook,unlistBook,deleteBook,borrowBook,declineBorrowRequest,acceptBorrowRequest } from '../user/ApiUser';\n\n\nconst MyCard = (props) => {\n\n    let isbn={\"product\":props.product};\n    \n    let viewProduct=props.viewProduct,listButton=props.listButton,setRun=props.runSetter,run=props.run;\n    let unlistButton=props.unlistButton;\n    let showDeleteButton=props.showDeleteButton;\n    let owner=props.owner;\n    let showBorrowButton=props.showBorrowButton;\n    let showAcceptButton=props.acceptButton;\n    let showDeclineButton=props.declineButton;\n\n    const [info, setInfo] = useState({});\n    const [author, setAuthor] = useState(\"\");\n    const [imgLink, setImgLink] = useState(\"\");\n    const [title, setTitle] = useState(\"\");\n    const [desc, setDesc] = useState(\"\");\n\n    const {user,token}=isAuthenticated();\n\n\n    //to list a book\n    const enlistBook=()=>{\n        //console.log(isbn.product);        \n        //console.log(\"outside\");\n        listBook(user._id,isbn.product,token).then(data=>{\n            if(data.error){\n                console.log(data.error);\n            }\n            else{\n                setRun(!run);\n                console.log(\"inside\");\n            }\n        })\n    }\n\n    const ListButton=(listButton)=>{\n        if(listButton){\n            return(\n                <button onClick={enlistBook} className=\"btn btn-outline-danger mt-2 ml-2 mb-2\">\n                    List Book\n                </button>            \n            )\n        }\n    }\n\n\n\n\n    //accept req\n    const acceptRequestHelper=()=>{\n        //console.log(isbn.product);        \n        //console.log(\"outside\");\n        acceptBorrowRequest(user._id,isbn.product,owner,token).then(data=>{\n            if(data.error){\n                console.log(data.error);\n            }\n            else{\n                setRun(!run);\n                console.log(\"inside\");\n            }\n        })\n    }\n\n    const AcceptButton=(showAcceptButton)=>{\n        if(showAcceptButton){\n            return(\n                <button onClick={acceptRequestHelper} className=\"btn btn-outline-success mt-2 ml-2 mb-2\">\n                    Accept\n                </button>            \n            )\n        }\n    }\n\n\n    //decline req\n    const declineRequestHelper=()=>{\n        //console.log(isbn.product);        \n        //console.log(\"outside\");\n        declineBorrowRequest(user._id,isbn.product,owner,token).then(data=>{\n            if(data.error){\n                console.log(data.error);\n            }\n            else{\n                setRun(!run);\n                console.log(\"inside\");\n            }\n        })\n    }\n\n    const DeclineButton=(showDeclineButton)=>{\n        if(showDeclineButton){\n            return(\n                <button onClick={declineRequestHelper} className=\"btn btn-outline-danger mt-2 ml-2 mb-2\">\n                    Decline\n                </button>            \n            )\n        }\n    }\n\n\n    //to borrow a book\n    const borrowBookOnClickHandler=()=>{\n        //console.log(isbn.product);        \n        //console.log(\"outside\");\n        borrowBook(user._id,isbn.product,owner,token).then(data=>{\n            if(data.error){\n                console.log(data.error);\n            }\n            else{\n                setRun(!run);\n                console.log(\"inside\");\n            }\n        })\n    }\n\n    const BorrowButton=(showBorrowButton)=>{\n        if(showBorrowButton){\n            return(\n                <button onClick={borrowBookOnClickHandler} className=\"btn btn-outline-danger mt-2 ml-2 mb-2\">\n                    Borrow Book\n                </button>            \n            )\n        }\n    }\n\n\n\n    //to delete a book\n    const deleteBookOnClick=()=>{        \n        deleteBook(user._id,isbn.product,token).then(data=>{\n            if(data.error){\n                console.log(data.error);\n            }\n            else{\n                setRun(!run);\n                console.log(\"inside\");\n            }\n        })\n    }\n\n    const DeleteButton=(showDeleteButton)=>{\n        if(showDeleteButton){\n            return(\n                <button onClick={deleteBookOnClick} className=\"btn btn-outline-danger mt-2 ml-2 mb-2\">\n                    Delete Book\n                </button>            \n            )\n        }\n    }\n    \n\n\n    //to unlist a book\n    const unlistBookHelper=()=>{\n        //console.log(isbn.product);\n        //setRun(!run);\n        console.log(\"outside\");\n        unlistBook(user._id,isbn.product,token).then(data=>{\n            if(data.error){\n                console.log(data.error);\n            }\n            else{\n                setRun(!run);\n                console.log(\"inside\");\n            }\n        })\n    }\n\n    const UnListButton=(unlistButton)=>{\n        if(unlistButton){\n            return(\n                <button onClick={unlistBookHelper} className=\"btn btn-outline-danger mt-2 ml-2 mb-2\">\n                    Unlist Book\n                </button>            \n            )\n        }\n    }\n\n\n    //init function\n    const init = (isbn) => {\n        getBookDetails(isbn).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            }\n            else {\n                setInfo(data);\n                console.log(\"data\",isbn,data);\n                let item_s = data.items;\n                //console.log(\"items\",item_s);\n                // Volume info\n                let item = item_s[0].volumeInfo;\n\n                // Author\n                let author=item.authors;\n                if (typeof author === 'undefined') {\n                    setAuthor('No author');\n                }\n                else{\n                    setAuthor(item.authors[0]);\n                }\n\n                // Image link\n                /*src={\n                    book.volumeInfo.imageLinks === undefined\n                      ? \"\"\n                      : `${book.volumeInfo.imageLinks.thumbnail}`\n                }*/\n                if(item.imageLinks=== undefined){\n                    setImgLink(\"https://in.pinterest.com/pin/478577897904782388/\");                \n                }\n                else{\n                    setImgLink(item.imageLinks.thumbnail);                \n                }\n                \n                //setImgLink(item.imageLinks.thumbnail);\n\n                // Title\n                setTitle(item.title);\n\n                // Description\n                let desc=item.description;\n                \n\n                if (typeof desc === 'undefined') {\n                    setDesc('No description available');\n                }\n                else{\n                    if(desc.length>20){\n                        desc=desc.substring(0,50)+\"...\"\n                        setDesc(desc);\n                    }                    \n                }\n\n                //console.log(isbn, data);\n            }\n        })\n    }\n\n    useEffect(() => {\n        //console.log(\"props\",props);\n        init(isbn);\n    }, [run]);\n\n\n    const BootCard = () => {\n            return (\n                <div className=\"card mb-3\" style={{ MaxWidth: \"540px\" }}>\n                    <div className=\"row no-gutters\">\n                        <div className=\"col-md-4\">\n                            <img src={`${imgLink}`} className=\"card-img\" alt=\"...\" />\n                        </div>\n                        <div className=\"col-md-8\">\n                            <div className=\"card-body\">\n                                <h5 className=\"card-title\">{title}</h5>\n                                <p className=\"card-text\">{author}</p>\n                                <p className=\"card-text\"><small className=\"text-muted\">{desc}</small></p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )\n    }\n\n    const showViewProduct=(viewProduct)=>{\n        if(viewProduct){\n            return <button className=\"btn btn-outline-warning mt-2 ml-2 mb-2\">\n                View Book\n            </button> \n        }\n        \n    }\n\n\n\n    const showCardDetails = () => {\n        let image, name, pDate, authors;\n        if (info['items'] != 'undefined') {\n            image = info['items'][0]['volumeInfo']['imageLinks']['thumbnail'];\n            name = info['items'][0]['volumeInfo']['title'];\n            pDate = info['items'][0]['volumeInfo']['publishedDate'];\n            authors = info['items'][0]['volumeInfo']['authors'][0];\n        }\n\n        if (image && name)\n            return (\n                <div className=\"col-md-8 m-auto\">\n                    <div className=\"card card-body\">\n                        <table align='center' width='600'>\n                            <td width='170' align='left'>\n                                <img src={image} />\n\n                            </td>\n                            <td width='170'>\n                                Name: ${name} <br />\n                            Published Date:   <br />\n                            Authors:  <br />\n                            ISBN: <br />\n                            </td>\n                            <td width='260'>\n\n                            </td>\n                        </table>\n                        <div align='right'>\n                            <a href=\"\" className='btn btn-danger' style={{ display: 'inline-block !important' }}>\n                                <i className=\"w3-large fa fa-trash\"></i>Delete\n                        </a>\n                        </div>\n\n                    </div>\n                </div>\n            )\n    }\n\n    const BootCard2=()=>{\n        return(\n        <div className=\" card tile is-child is-3 box\">\n          <div className=\"card-image\">\n            <figure className=\"image is-4by3\">\n              <img src={`${imgLink}`} alt=\"Placeholder image\" />\n            </figure>\n          </div>\n          <div className=\"card-content\">\n            <p className=\"title is-6 has-text-primary has-text-centered is-capitalized\">{title}</p>\n            <p className=\"title is-6 has-text-primary has-text-centered is-capitalized\">{author}</p>\n            <p className=\"has-text-black-ter has-text-weight-normal\">{desc}</p>\n          </div>\n          <span>\n          {showViewProduct(viewProduct)}\n          {ListButton(listButton)}\n          {UnListButton(unlistButton)}\n          {DeleteButton(showDeleteButton)}\n          {BorrowButton(showBorrowButton)}\n          {AcceptButton(showAcceptButton)}\n          {DeclineButton(showDeclineButton)}\n          </span>\n          \n        </div>)\n    }\n\n    return (\n        <div>\n            {BootCard2()}\n        </div>\n    )\n}\n\nexport default MyCard;","/home/anjan/Projects/booksharingapp23/client/src/core/Layout.js",[],"/home/anjan/Projects/booksharingapp23/client/src/user/ApiUser.js",[],"/home/anjan/Projects/booksharingapp23/client/src/core/Menu.js",["115"],"/home/anjan/Projects/booksharingapp23/client/src/auth/index.js",["116"],"import React from 'react';\n\n/*export const signup = user => {\n    return fetch(\"http://localhost:8000/api/signup\", {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\n\n\nexport const signin = user => {\n    return fetch(\"http://localhost:8000/api/signin\", {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\n\n\nexport const authenticate=(data,next)=>{\n    if(typeof(window)!=\"undefined\"){\n        localStorage.setItem('jwt',JSON.stringify(data));\n    }\n    next();\n}\n\n\nexport const signout=(next)=>{\n    if(typeof(window)!=\"undefined\"){\n        localStorage.removeItem('jwt');\n        next();\n        return fetch(\"http://localhost:8000/api/signout\",{\n            method:\"GET\"\n        })\n        .then (response=>{\n            console.log(\"signout\",response);\n        })\n        .catch(err=>console.log(err));\n    }\n}\n\n\nexport const isAuthenticated=()=>{\n    if(typeof(window)==\"undefined\")\n        return false;\n    if(localStorage.getItem('jwt'))\n        return JSON.parse(localStorage.getItem('jwt'));\n    else\n        return false;\n}\n*/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst API=\"https://booksharingapp23.herokuapp.com/api\";\n\n\nexport const signup = user => {\n    return fetch(`${API}/signup`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const signin = user => {\n    return fetch(`${API}/signin`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const authenticate = (data, next) => {\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('jwt', JSON.stringify(data));\n        next();\n    }\n};\n\nexport const signout = next => {\n    if (typeof window !== 'undefined') {\n        localStorage.removeItem('jwt');\n        next();\n        return fetch(`${API}/signout`, {\n            method: 'GET'\n        })\n            .then(response => {\n                console.log('signout', response);\n            })\n            .catch(err => console.log(err));\n    }\n};\n\nexport const isAuthenticated = () => {\n    if (typeof window == 'undefined') {\n        return false;\n    }\n    if (localStorage.getItem('jwt')) {\n        return JSON.parse(localStorage.getItem('jwt'));\n    } else {\n        return false;\n    }\n};\n","/home/anjan/Projects/booksharingapp23/client/src/core/ApiCore.js",[],"/home/anjan/Projects/booksharingapp23/client/src/user/SearchBook.js",["117","118","119","120","121","122","123","124","125"],{"ruleId":"126","replacedBy":"127"},{"ruleId":"128","replacedBy":"129"},{"ruleId":"130","severity":1,"message":"131","line":1,"column":17,"nodeType":"132","messageId":"133","endLine":1,"endColumn":26},{"ruleId":"130","severity":1,"message":"134","line":18,"column":12,"nodeType":"132","messageId":"133","endLine":18,"endColumn":16},{"ruleId":"130","severity":1,"message":"135","line":5,"column":9,"nodeType":"132","messageId":"133","endLine":5,"endColumn":21},{"ruleId":"130","severity":1,"message":"136","line":4,"column":10,"nodeType":"132","messageId":"133","endLine":4,"endColumn":14},{"ruleId":"130","severity":1,"message":"137","line":5,"column":10,"nodeType":"132","messageId":"133","endLine":5,"endColumn":28},{"ruleId":"130","severity":1,"message":"138","line":14,"column":32,"nodeType":"132","messageId":"133","endLine":14,"endColumn":37},{"ruleId":"130","severity":1,"message":"139","line":14,"column":39,"nodeType":"132","messageId":"133","endLine":14,"endColumn":43},{"ruleId":"140","severity":1,"message":"141","line":68,"column":8,"nodeType":"142","endLine":68,"endColumn":13,"suggestions":"143"},{"ruleId":"130","severity":1,"message":"144","line":151,"column":11,"nodeType":"132","messageId":"133","endLine":151,"endColumn":17},{"ruleId":"130","severity":1,"message":"131","line":1,"column":17,"nodeType":"132","messageId":"133","endLine":1,"endColumn":26},{"ruleId":"130","severity":1,"message":"145","line":2,"column":10,"nodeType":"132","messageId":"133","endLine":2,"endColumn":16},{"ruleId":"130","severity":1,"message":"146","line":2,"column":18,"nodeType":"132","messageId":"133","endLine":2,"endColumn":25},{"ruleId":"130","severity":1,"message":"147","line":2,"column":27,"nodeType":"132","messageId":"133","endLine":2,"endColumn":38},{"ruleId":"130","severity":1,"message":"148","line":2,"column":40,"nodeType":"132","messageId":"133","endLine":2,"endColumn":52},{"ruleId":"130","severity":1,"message":"149","line":2,"column":54,"nodeType":"132","messageId":"133","endLine":2,"endColumn":66},{"ruleId":"130","severity":1,"message":"150","line":2,"column":68,"nodeType":"132","messageId":"133","endLine":2,"endColumn":79},{"ruleId":"130","severity":1,"message":"151","line":2,"column":81,"nodeType":"132","messageId":"133","endLine":2,"endColumn":87},{"ruleId":"130","severity":1,"message":"152","line":1,"column":17,"nodeType":"132","messageId":"133","endLine":1,"endColumn":26},{"ruleId":"130","severity":1,"message":"136","line":4,"column":10,"nodeType":"132","messageId":"133","endLine":4,"endColumn":14},{"ruleId":"130","severity":1,"message":"153","line":12,"column":23,"nodeType":"132","messageId":"133","endLine":12,"endColumn":27},{"ruleId":"130","severity":1,"message":"138","line":12,"column":28,"nodeType":"132","messageId":"133","endLine":12,"endColumn":33},{"ruleId":"130","severity":1,"message":"139","line":12,"column":34,"nodeType":"132","messageId":"133","endLine":12,"endColumn":38},{"ruleId":"140","severity":1,"message":"154","line":33,"column":7,"nodeType":"142","endLine":33,"endColumn":12,"suggestions":"155"},{"ruleId":"130","severity":1,"message":"144","line":35,"column":11,"nodeType":"132","messageId":"133","endLine":35,"endColumn":17},{"ruleId":"130","severity":1,"message":"145","line":2,"column":10,"nodeType":"132","messageId":"133","endLine":2,"endColumn":16},{"ruleId":"130","severity":1,"message":"146","line":2,"column":18,"nodeType":"132","messageId":"133","endLine":2,"endColumn":25},{"ruleId":"130","severity":1,"message":"147","line":2,"column":27,"nodeType":"132","messageId":"133","endLine":2,"endColumn":38},{"ruleId":"130","severity":1,"message":"148","line":2,"column":40,"nodeType":"132","messageId":"133","endLine":2,"endColumn":52},{"ruleId":"130","severity":1,"message":"149","line":2,"column":54,"nodeType":"132","messageId":"133","endLine":2,"endColumn":66},{"ruleId":"130","severity":1,"message":"150","line":2,"column":68,"nodeType":"132","messageId":"133","endLine":2,"endColumn":79},{"ruleId":"130","severity":1,"message":"151","line":2,"column":81,"nodeType":"132","messageId":"133","endLine":2,"endColumn":87},{"ruleId":"130","severity":1,"message":"156","line":3,"column":26,"nodeType":"132","messageId":"133","endLine":3,"endColumn":36},{"ruleId":"130","severity":1,"message":"157","line":4,"column":10,"nodeType":"132","messageId":"133","endLine":4,"endColumn":18},{"ruleId":"140","severity":1,"message":"158","line":252,"column":8,"nodeType":"142","endLine":252,"endColumn":13,"suggestions":"159"},{"ruleId":"130","severity":1,"message":"160","line":255,"column":11,"nodeType":"132","messageId":"133","endLine":255,"endColumn":19},{"ruleId":"130","severity":1,"message":"161","line":285,"column":11,"nodeType":"132","messageId":"133","endLine":285,"endColumn":26},{"ruleId":"162","severity":1,"message":"163","line":287,"column":27,"nodeType":"164","messageId":"165","endLine":287,"endColumn":29},{"ruleId":"130","severity":1,"message":"166","line":290,"column":13,"nodeType":"132","messageId":"133","endLine":290,"endColumn":18},{"ruleId":"130","severity":1,"message":"167","line":291,"column":13,"nodeType":"132","messageId":"133","endLine":291,"endColumn":20},{"ruleId":"168","severity":1,"message":"169","line":300,"column":33,"nodeType":"170","endLine":300,"endColumn":52},{"ruleId":"171","severity":1,"message":"172","line":314,"column":29,"nodeType":"170","endLine":314,"endColumn":114},{"ruleId":"173","severity":1,"message":"174","line":329,"column":15,"nodeType":"170","endLine":329,"endColumn":65},{"ruleId":"130","severity":1,"message":"175","line":1,"column":17,"nodeType":"132","messageId":"133","endLine":1,"endColumn":25},{"ruleId":"130","severity":1,"message":"176","line":1,"column":8,"nodeType":"132","messageId":"133","endLine":1,"endColumn":13},{"ruleId":"130","severity":1,"message":"131","line":1,"column":17,"nodeType":"132","messageId":"133","endLine":1,"endColumn":26},{"ruleId":"130","severity":1,"message":"145","line":2,"column":10,"nodeType":"132","messageId":"133","endLine":2,"endColumn":16},{"ruleId":"130","severity":1,"message":"146","line":2,"column":18,"nodeType":"132","messageId":"133","endLine":2,"endColumn":25},{"ruleId":"130","severity":1,"message":"147","line":2,"column":27,"nodeType":"132","messageId":"133","endLine":2,"endColumn":38},{"ruleId":"130","severity":1,"message":"148","line":2,"column":40,"nodeType":"132","messageId":"133","endLine":2,"endColumn":52},{"ruleId":"130","severity":1,"message":"149","line":2,"column":54,"nodeType":"132","messageId":"133","endLine":2,"endColumn":66},{"ruleId":"130","severity":1,"message":"150","line":2,"column":68,"nodeType":"132","messageId":"133","endLine":2,"endColumn":79},{"ruleId":"130","severity":1,"message":"151","line":2,"column":81,"nodeType":"132","messageId":"133","endLine":2,"endColumn":87},{"ruleId":"130","severity":1,"message":"177","line":13,"column":25,"nodeType":"132","messageId":"133","endLine":13,"endColumn":40},"no-native-reassign",["178"],"no-negated-in-lhs",["179"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'user' is assigned a value but never used.","'authenticate' is defined but never used.","'Link' is defined but never used.","'getPurchaseHistory' is defined but never used.","'email' is assigned a value but never used.","'role' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: '_id', 'currentBookList', and 'token'. Either include them or remove the dependency array.","ArrayExpression",["180"],"'userId' is assigned a value but never used.","'MDBBtn' is defined but never used.","'MDBCard' is defined but never used.","'MDBCardBody' is defined but never used.","'MDBCardImage' is defined but never used.","'MDBCardTitle' is defined but never used.","'MDBCardText' is defined but never used.","'MDBCol' is defined but never used.","'Component' is defined but never used.","'name' is assigned a value but never used.","React Hook useEffect has missing dependencies: '_id' and 'token'. Either include them or remove the dependency array.",["181"],"'getDetails' is defined but never used.","'Redirect' is defined but never used.","React Hook useEffect has a missing dependency: 'isbn'. Either include it or remove the dependency array.",["182"],"'BootCard' is assigned a value but never used.","'showCardDetails' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'pDate' is assigned a value but never used.","'authors' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You donâ€™t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","'Fragment' is defined but never used.","'React' is defined but never used.","'setSearchResult' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"183","fix":"184"},{"desc":"185","fix":"186"},{"desc":"187","fix":"188"},"Update the dependencies array to be: [_id, currentBookList, run, token]",{"range":"189","text":"190"},"Update the dependencies array to be: [_id, run, token]",{"range":"191","text":"192"},"Update the dependencies array to be: [isbn, run]",{"range":"193","text":"194"},[2120,2125],"[_id, currentBookList, run, token]",[982,987],"[_id, run, token]",[7231,7236],"[isbn, run]"]